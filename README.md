# ZERONEIII-editor
素敵なご本家様 → [ZERONEIII on Scratch](https://scratch.mit.edu/projects/388537072)

高性能なご本家様 → [ZERONEIII on TurboWarp](https://turbowarp.org/388537072?fps=60&hqpen)

## このプロジェクトについて
ZERONEIII用の非公式譜面エディターです。今の状態でエディターと呼んでいいのかは分かりませんが。

一応公開することにしましたがまだまだβ版なので、バグ報告や機能追加の要望などはドシドシ寄せていってもらえるとありがたいです。

## 使い方（左から右、上から下）
### テキストエリア
現段階でこれがエディターだと言い張れる唯一の証拠です。ここに譜面データ/chartsの内容をそのまま突っ込むと右の画面で譜面が再生できるようになります。ここでキーボード打って譜面編集することもできますが、1文字打つごとに重いプログラムが動いくのであまりおすすめしません。あと不正な入力があると秒間60回エラー吐きます。なので基本的に編集は好きな表計算ソフトでやって、こっちで見た目を確認するって使い方が良いと思います。

### Export / Save
Saveはセーブです。譜面と曲を同時に保存します。自動セーブとかはないのでセーブは忘れないようにしましょう。現時点ではそれぞれ1個しか保存できません。それと保存場所はローカルなので間違えてブラウザのデータ全消去すると譜面データも消えます。

Exportは独自仕様のデータを本家（ただしTurboWarp限定）で読み込める形に直してダウンロードします。独自仕様を使っていなければテキストエリアから適当なファイルにコピペでも大丈夫です。

### カラーピッカー
スライダーをいじると色が選べます。左下にZERONEIIIで使用している十進形式、右下により一般的な十六進形式が表示されます。その欄に直接入力すれば十進⇆十六進の相互変換もできます。

### 曲選択
お使いのデバイスから曲ファイルを選べます。多分大体の形式は対応してると思います。

### Debug / Mirror
Debugは有効にするとノーツなどの色がすべてデフォルトに戻り、カメラの座標と回転が表示されます。ついでにBPMと譜面速度、ノーツIDも表示されます。

Mirrorはつけるとノーツ位置とカメラが全部左右反転します。譜面制作において役立つかどうかは分かりません。

### 画面
画面です。厳密再現ではないものの大体本家と同じような感じで表示されます。なお現時点でロングが判定線より手前にある時の描画が本家と違っていることが分かっています。

左上の戻るボタンを押すと2Dモードに移行できます。ただし今はノーツが流れてくる以外何もありません。もう1回戻るボタンを押すと3Dモードに戻れます。

### シークバー
横に長いスライダーです。曲の再生位置を調整できます。要はようつべとかニコニコに付いてる下の棒です。

### 色々
Note Speedは譜面速度、Music Speedは曲の速度を調整できます。一応それぞれx0.1からx10、x0.1からx4まで設定できますが曲を4倍速で流して何か良いことがあるのかは知りません。

TimeとBeatは曲の進行度を表します。Timeが秒数で計ったもの、Beatが拍数で計ったものです。Zは譜面が始まってからノーツが移動した距離を表しますが、速度変化をふんだんに使ったギミックを作らない限りあまり役に立たないと思います。

その右のでかいボタンは曲を再生したり一時停止したりできます。なお曲が終わって自動で止まった後は2回押さないと再生されないので2回押してください。

## 譜面ファイルの本家仕様
暇な時に書きます。急ぎの場合は原作のコードを覗いて頑張って理解してください。

## 独自仕様
### 帯分数表記
「a:b:c」とか「a:b」と書くと、それぞれa+b/c、a/bを表します（例：2:3:4＝2.75、8:5＝1.6）。ノーツとかイベントの拍数の指定で使うことを想定していますが、ノーツの高さの指定に使ったりしても一応大丈夫なはずです。

### 相対リンク指定
ノーツのリンクはノーツIDで指定しますが、例えば「+1」のようにプラスから始めて書くことで何個先のノーツにリンクするという意味になります。この機能の関係で関係ない所にプラスから始まる数値を入れるとバグるので気をつけてください。

### イージング
カメライベントを「cam」の代わりに後ろに数字を付けて「cam23」などのように書くとカメラにイージングを付けられます。イージングの番号と挙動の対応は下記参照です。

そしてなんとUndoFishさんのあのAviutlプラグイン式にイージングの合成ができます。つまり「cam7080」で7番のイージングを80%の強さでかけることができたり、「cam3504120」で35番と4番を-20:120の割合（？）で配合できたりします。まあその辺の話は詳しくはググってくださいな。

![TWEENER Transition cheat sheet](https://s-size.github.io/easyease/easing.png "TWEENER Transition cheat sheet")
